@page
@model Notifications
@inject SignInManager<IdentityUser> SignInManager
@{
    ViewData["Title"] = "Notify.Me";
}
@section Scripts
{
    @if (SignInManager.IsSignedIn(User))
    {

        <script src="https://cloud.tinymce.com/stable/tinymce.min.js?apiKey=g4q2s6u0msl84m6htaw4ztm3by25re9sn4eiv07m907wbu6o"></script>
        <script type="text/javascript" src="~/js/chat.js"></script>
        <script>
            $(document).ready( function () {
                tinymce.init({ selector:'textarea' });
                $('#notificationdata').DataTable({
                    "processing": true,
                    "serverSide": true,
                    "searching":false,
                    "ordering":false,
                    "info":false,
                    "lengthChange": false,
                    "ajax":{
                        url: "/Notifications?handler=AllNotifications",
                        type:"GET"
                    },
                    "columns": [
                        { 
                            data: 'content',
                            render: function ( data, type, row ) {
                                return data;
                                 }},
                        { 
                            data: 'date',
                            render: function ( data, type, row ) {
                                return data;
                                 }},
                        {
                            data: 'id' 
                            }
                    ]
                });
            });
        </script>

    }
}
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-primary">
                <div class="panel-heading" id="notificationpanel">
                    <span class="glyphicon glyphicon-comment"></span> Notification Messages
                    <div class="btn-group pull-right">
                       
                    </div>
                </div>
                <div class="panel-collapse collapse in" id="collapsenotification">
                    <div class="panel-body" id="notifications">
                        <table id="notificationdata" class="table table-striped table-bordered compact notificationdata">
                            <thead>
                                <tr>
                                    <th>Content</th>
                                    <th>Date</th>
                                    <th>Id</th>
                                </tr>
                            </thead>
                            <tbody>
                               <tr><td></td><td></td><td></td></tr>
                            </tbody>
                        </table>
                        <ul id="generalnotification" class="chat"></ul>
                    </div>
                    <div class="panel-footer">
                        <div>
                            <input type="hidden" value="You" id="txtnotificationuser" />
                     
                            <input id="txttitle" maxlength="250" type="text" class="form-control input-sm" placeholder="Type a title..." />
                            <input id="txtlink" maxlength="250" type="text" class="form-control input-sm" placeholder="Type a link if exists..." />
                            <textarea id="txtnotification"></textarea>
                                
                            <button class="btn btn-warning btn-sm pull-right" id="btnsendnotification">Send</button>
                       
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>