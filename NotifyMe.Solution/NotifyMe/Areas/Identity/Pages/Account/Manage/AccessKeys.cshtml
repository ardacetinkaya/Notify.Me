@page
@model AccessKeys
@{
    ViewData["Title"] = "Manage your access keys";
}

<partial name="_StatusMessage" for="StatusMessage" />
<div class="row">
    <div class="col-md-6 center">
        <form id="url-form" method="post">
            <div asp-validation-summary="All" class="text-danger"></div>
            <div class="form-group">
                <label>URL</label>
                <input asp-for="URL" class="form-control" />
            </div>
            <button type="submit" class="btn btn-default">Add</button>
        </form>
    </div>
</div>
<div class="row p-t-50">
    <div class="col-md-12">
        @if(Model.Features.Count() > 0)
        {
            
                <table id="accesskeys" class="table table-striped table-bordered compact accesskeys">
                    <thead>
                        <tr>

                        </tr>
                    </thead>
                    <tbody>
                            @foreach (var item in Model.Features)
                            {
                                <form id="accesskeys-form" method="post">
                                    <input type="text" name="id" value="@item.Id" class="hidden" />
                                <tr>
                                    <td>@item.URL</td>
                                    <td>@item.Key</td>
                                    <td><button class="btn btn-success" asp-page-handler="Generate">Re-Generate</button></td>
                                    <td><button class="btn btn-warning" asp-page-handler="Revoke">Revoke Access</button></td>
                                </tr>
                                </form>
                            }
                    </tbody>
                </table>

        }

    </div>
</div>

